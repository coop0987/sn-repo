<polymer-element name="name-tag">
  <template>
    <link rel="stylesheet" href="name-tag.css">
    <paper-button on-tap="{{increment}}" id="submit-button" raised> SUBMIT</paper-button>
  </template>
  <script>
  Polymer({
       counter: 0, // Default value
       increment: function() {
         var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
         var email = $("#email").val();
         if(regex.test(email)){
           $.post( "/api/subscriptions", { 'subscription':  {"email": email} },function(data) {
             if(data.success){
               $(".message-response").addClass("success");
               $(".message-response").removeClass("error");
               $(".message-response").html("<h2>Invite requested!</h2>");
               $("#email").val("");
             }else{
               showError();
             }
           } );
         }else{
           showError();
         }
         
         console.log("cambioo");
       }
     });
     function showError(){
       $(".message-response").addClass("error");
       $(".message-response").removeClass("success");
       $(".message-response").html("<h2>Please enter a valid email address and try again</h2>");
     }
  </script>
</polymer-element> 